{"version":3,"sources":["api/socket.io.js","api/crudRequests.js","utils/logic.js","api/youtube.js","utils/consts.js","components/Form/Form.styles.js","components/Form/Form.js","components/PlayListItem/PlayListItem.styles.js","components/PlayListItem/PlayListItem.js","components/PlayList/PlayList.styles.js","components/PlayList/PlayList.js","components/YouTubePlayer/YouTubePlayer.js","components/App/App.styles.js","components/App/App.js","reportWebVitals.js","index.js"],"names":["socket","io","initSocketEvents","_ref","onNewVideo","on","console","info","id","data","getVideos","fetch","then","response","json","success","Error","error","catch","deleteVideo","concat","method","headers","Content-Type","momentDurationFormatSetup","moment","onAdd","value","embedCode","URL","searchParams","get","videoId","url","items","_response$items$","duration","contentDetails","title","snippet","length","processDuration","getVideoDetails","body","JSON","stringify","format","padStart","PLAYER_OPTIONS","height","width","playerVars","autoplay","controls","disablekb","FromContainer","styled","Stack","flexDirection","gap","maxWidth","Input","props","react_default","a","createElement","TextField","Object","assign","label","size","flex","AddButton","Button","variant","Form","_useState","useState","_useState2","slicedToArray","setValue","onAddHandler","onChange","e","target","onKeyPress","key","onClick","ItemContainer","justifyContent","alignItems","border","padding","minHeight","minWidth","DetailsContainer","Title","Typography","component","textOverflow","overflow","whiteSpace","Length","RemoveButton","IconButton","Delete_default","PlayListItem","onRemove","List","overflowY","PlayList","playList","map","_ref2","components_PlayListItem_PlayListItem","YouTubePlayer","onEnd","YouTube","opts","onReady","playVideo","MainLayout","margin","PlayListContainer","App","isEffectRan","useRef","setPlayList","_useState3","_useState4","currentVideo","setCurrentVideo","useEffect","current","prev","toConsumableArray","onRemoveVideoHandler","filter","video","components_Form_Form","components_PlayList_PlayList","components_YouTubePlayer_YouTubePlayer","reportWebVitals","onPerfEntry","Function","__webpack_require__","bind","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","document","getElementById","render","StrictMode","App_App"],"mappings":"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","file":"static/js/main.43cfb355.chunk.js","sourcesContent":["import { io } from \"socket.io-client\";\r\n\r\nconst socket = io(\"/\");\r\n\r\nexport const initSocketEvents = ({ onNewVideo }) => {\r\n  socket.on(\"connect\", () => console.info(\"socket connected id:\", socket.id));\r\n  socket.on(\"new-video\", (data) => {\r\n    console.info(\"new-video\", data);\r\n    onNewVideo(data);\r\n  });\r\n  socket.on(\"disconnect\", () => console.info(\"server disconnected\"));\r\n};\r\n","export const getVideos = () => {\r\n  return fetch(\"/api/videos\")\r\n    .then((response) => response.json())\r\n    .then((response) => {\r\n      if (response.success) {\r\n        return response.data;\r\n      } else {\r\n        throw Error(response.error);\r\n      }\r\n    })\r\n    .catch((error) => {\r\n      console.error(\"Error:\", error);\r\n    });\r\n};\r\n\r\nexport const addVideo = (data) => {\r\n  return fetch(\"/api/video\", {\r\n    method: \"POST\",\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    body: JSON.stringify(data),\r\n  })\r\n    .then((response) => response.json())\r\n    .then((response) => {\r\n      if (response.success) {\r\n        return response.data;\r\n      } else {\r\n        throw Error(response.error);\r\n      }\r\n    })\r\n    .catch((error) => {\r\n      console.error(\"Error:\", error);\r\n    });\r\n};\r\n\r\nexport const deleteVideo = (id) => {\r\n  return fetch(`/api/video/${id}`, {\r\n    method: \"DELETE\",\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n  })\r\n    .then((response) => response.json())\r\n    .then((response) => {\r\n      if (response.success) {\r\n        return response.data;\r\n      } else {\r\n        throw Error(response.error);\r\n      }\r\n    })\r\n    .catch((error) => {\r\n      console.error(\"Error:\", error);\r\n    });\r\n};\r\n","import moment from \"moment\";\r\nimport momentDurationFormatSetup from \"moment-duration-format\";\r\n\r\nimport { addVideo } from \"../api/crudRequests\";\r\nimport { getVideoDetails } from \"../api/youtube\";\r\n\r\nmomentDurationFormatSetup(moment);\r\n\r\nexport const onAdd = (value) => {\r\n  try {\r\n    const url = new URL(value);\r\n    const embedCode = url.searchParams.get(\"v\");\r\n    if (embedCode) {\r\n      getVideoDetails(embedCode).then(({ title, length }) =>\r\n        addVideo({ url: value, embedCode, title, length }).catch((error) =>\r\n          console.error(error)\r\n        )\r\n      );\r\n    }\r\n  } catch (error) {}\r\n};\r\n\r\nexport const processDuration = (duration) =>\r\n  moment\r\n    .duration(duration)\r\n    .format(\"h:mm:ss\")\r\n    .padStart(4, \"0:0\");\r\n","import { processDuration } from \"../utils/logic\";\r\n\r\nconst BASE_URL =\r\n  \"https://www.googleapis.com/youtube/v3/videos?part=snippet%2CcontentDetails&fields=items(snippet,contentDetails)&\";\r\n\r\nexport const getVideoDetails = (videoId) => {\r\n  const url = `${BASE_URL}&key=AIzaSyDfhTVqAL2i9CTb_mAytU2oJf1hXB3_XbE&id=${videoId}`;\r\n  return fetch(url)\r\n    .then((response) => response.json())\r\n    .then((response) => {\r\n      if (response && response.items) {\r\n        const {\r\n          contentDetails: { duration },\r\n          snippet: { title },\r\n        } = response.items[0];\r\n        return { title, length: processDuration(duration) };\r\n      }\r\n      return {};\r\n    })\r\n    .catch((error) => {\r\n      console.error(\"Error:\", error);\r\n    });\r\n};\r\n","export const ADD_LABEL = \"ADD\";\r\nexport const ENTER_EVENT = \"Enter\";\r\n\r\nexport const PLAYER_OPTIONS = {\r\n  height: \"390\",\r\n  width: \"640\",\r\n  playerVars: {\r\n    autoplay: 1,\r\n    controls: 0,\r\n    disablekb: 1,\r\n  },\r\n};\r\n","import React from \"react\";\r\nimport { styled } from \"@mui/system\";\r\nimport { Stack, TextField, Button } from \"@mui/material\";\r\n\r\nexport const FromContainer = styled(Stack)({\r\n  flexDirection: \"row\",\r\n  gap: \"10px\",\r\n  maxWidth: \"500px\",\r\n});\r\n\r\nexport const Input = styled((props) => (\r\n  <TextField label=\"Enter YouTube video URL\" size=\"small\" {...props} />\r\n))({\r\n  flex: \"1 1 auto\",\r\n});\r\n\r\nexport const AddButton = styled((props) => (\r\n  <Button variant=\"contained\" {...props} />\r\n))({\r\n  maxWidth: \"100px\",\r\n  flex: \"1 1 auto\",\r\n});\r\n","import React, { useState } from \"react\";\r\nimport { ADD_LABEL, ENTER_EVENT } from \"../../utils/consts\";\r\nimport { FromContainer, Input, AddButton } from \"./Form.styles\";\r\n\r\nconst Form = ({ onAdd }) => {\r\n  const [value, setValue] = useState(\"\");\r\n\r\n  const onAddHandler = () => {\r\n    onAdd(value);\r\n    setValue(\"\");\r\n  };\r\n\r\n  return (\r\n    <FromContainer>\r\n      <Input\r\n        value={value}\r\n        onChange={(e) => setValue(e.target.value)}\r\n        onKeyPress={(e) => e.key === ENTER_EVENT && onAddHandler()}\r\n      />\r\n      <AddButton onClick={onAddHandler}>{ADD_LABEL}</AddButton>\r\n    </FromContainer>\r\n  );\r\n};\r\n\r\nexport default Form;\r\n","import React from \"react\";\r\nimport { styled } from \"@mui/system\";\r\nimport { Stack, Typography, IconButton } from \"@mui/material\";\r\nimport DeleteIcon from \"@mui/icons-material/Delete\";\r\n\r\nexport const ItemContainer = styled(Stack)({\r\n  flexDirection: \"row\",\r\n  justifyContent: \"space-between\",\r\n  alignItems: \"center\",\r\n  border: \"1px solid\",\r\n  padding: \"5px\",\r\n  minHeight: \"40px\",\r\n  minWidth: \"250px\",\r\n  maxWidth: \"400px\",\r\n});\r\n\r\nexport const DetailsContainer = styled(Stack)({\r\n  flexDirection: \"row\",\r\n  justifyContent: \"space-between\",\r\n  alignItems: \"center\",\r\n  gap: \"10px\",\r\n});\r\n\r\nexport const Title = styled((props) => (\r\n  <Typography component=\"span\" {...props} />\r\n))({\r\n  textOverflow: \"ellipsis\",\r\n  overflow: \"hidden\",\r\n  whiteSpace: \"nowrap\",\r\n});\r\n\r\nexport const Length = styled((props) => (\r\n  <Typography component=\"span\" {...props} />\r\n))({});\r\n\r\nexport const RemoveButton = styled((props) => (\r\n  <IconButton {...props}>\r\n    <DeleteIcon />\r\n  </IconButton>\r\n))({});\r\n","import React from \"react\";\r\nimport {\r\n  ItemContainer,\r\n  DetailsContainer,\r\n  Title,\r\n  Length,\r\n  RemoveButton,\r\n} from \"./PlayListItem.styles\";\r\n\r\nconst PlayListItem = ({ id, title, length, onRemove }) => {\r\n  return (\r\n    <ItemContainer>\r\n      <DetailsContainer>\r\n        <Title>{title}</Title>\r\n        {length && <Length>{length}</Length>}\r\n      </DetailsContainer>\r\n      <RemoveButton onClick={() => onRemove(id)} />\r\n    </ItemContainer>\r\n  );\r\n};\r\n\r\nexport default PlayListItem;\r\n","import { styled } from \"@mui/system\";\r\nimport { Stack } from \"@mui/material\";\r\n\r\nexport const List = styled(Stack)({\r\n  border: \"1px solid\",\r\n  maxWidth: \"500px\",\r\n  height: \"100%\",\r\n  overflowY: \"auto\",\r\n});\r\n","import React from \"react\";\r\nimport PlayListItem from \"../PlayListItem/PlayListItem\";\r\nimport { List } from \"./PlayList.styles\";\r\n\r\nconst PlayList = ({ playList, onRemove }) => {\r\n  return (\r\n    <List>\r\n      {playList.map(({ id, title, length, url }) => (\r\n        <PlayListItem\r\n          key={id}\r\n          id={id}\r\n          title={title ? title : url}\r\n          length={length}\r\n          onRemove={onRemove}\r\n        />\r\n      ))}\r\n    </List>\r\n  );\r\n};\r\n\r\nexport default PlayList;\r\n","import React from \"react\";\r\nimport YouTube from \"react-youtube\";\r\nimport { PLAYER_OPTIONS } from \"../../utils/consts\";\r\n\r\nconst YouTubePlayer = ({ id, videoId, onEnd }) => {\r\n  return (\r\n    <YouTube\r\n      key={id}\r\n      id={id}\r\n      opts={PLAYER_OPTIONS}\r\n      videoId={videoId}\r\n      onEnd={() => onEnd(id)}\r\n      onReady={(e) => e.target.playVideo()}\r\n    />\r\n  );\r\n};\r\nexport default YouTubePlayer;\r\n","import { styled } from \"@mui/system\";\r\nimport { Stack } from \"@mui/material\";\r\n\r\nexport const MainLayout = styled(Stack)({\r\n  flexDirection: \"row\",\r\n  justifyContent: \"center\",\r\n  gap: \"30px\",\r\n  margin: \"50px\",\r\n});\r\n\r\nexport const PlayListContainer = styled(Stack)({\r\n  gap: \"10px\",\r\n  height: \"390px\",\r\n});\r\n","import React, { useState, useEffect, useRef } from \"react\";\n\nimport { initSocketEvents } from \"../../api/socket.io\";\nimport { getVideos, deleteVideo } from \"../../api/crudRequests\";\nimport { onAdd } from \"../../utils/logic\";\n\nimport Form from \"../Form/Form\";\nimport PlayListItem from \"../PlayList/PlayList\";\nimport YouTubePlayer from \"../YouTubePlayer/YouTubePlayer\";\n\nimport { MainLayout, PlayListContainer } from \"./App.styles\";\n\nfunction App() {\n  const isEffectRan = useRef(false);\n\n  const [playList, setPlayList] = useState([]);\n  const [currentVideo, setCurrentVideo] = useState(null);\n\n  useEffect(() => {\n    if (!isEffectRan.current) {\n      getVideos().then((data) => setPlayList(data));\n      initSocketEvents({\n        onNewVideo: (data) => setPlayList((prev) => [...prev, data]),\n      });\n    }\n    return () => {\n      isEffectRan.current = true;\n    };\n  }, []);\n\n  useEffect(() => {\n    if (!playList.length) {\n      setCurrentVideo(null);\n    } else if (!currentVideo || playList[0].id !== currentVideo.id) {\n      setCurrentVideo(playList[0]);\n    }\n  }, [playList]);\n\n  const onRemoveVideoHandler = (id) => {\n    deleteVideo(id);\n    setPlayList((prev) => prev.filter((video) => id !== video.id));\n  };\n\n  return (\n    <MainLayout>\n      <PlayListContainer>\n        <Form onAdd={onAdd} />\n        <PlayListItem playList={playList} onRemove={onRemoveVideoHandler} />\n      </PlayListContainer>\n      <YouTubePlayer\n        id={currentVideo && currentVideo.id}\n        videoId={currentVideo ? currentVideo.embedCode : \"\"}\n        onEnd={onRemoveVideoHandler}\n      />\n    </MainLayout>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom/client\";\nimport \"./index.css\";\nimport App from \"./components/App/App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nconst root = ReactDOM.createRoot(document.getElementById(\"root\"));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}