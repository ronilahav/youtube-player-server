(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,n,t){e.exports=t(133)},107:function(e,n,t){},133:function(e,n,t){"use strict";t.r(n);var r=t(0),o=t.n(r),a=t(76),c=t.n(a),i=(t(107),t(19)),u=t(13),l=t(86),s=Object(l.a)("/"),f=function(e){var n=e.onNewVideo;s.on("connect",function(){return console.info("socket connected id:",s.id)}),s.on("new-video",function(e){console.info("new-video",e),n(e)}),s.on("disconnect",function(){return console.info("server disconnected")})},d=function(){return fetch("/api/videos").then(function(e){return e.json()}).then(function(e){if(e.success)return e.data;throw Error(e.error)}).catch(function(e){console.error("Error:",e)})},p=function(e){return fetch("/api/video/".concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){if(e.success)return e.data;throw Error(e.error)}).catch(function(e){console.error("Error:",e)})},h=t(60),m=t.n(h),b=t(81);t.n(b)()(m.a);var g=function(e){try{var n=new URL(e).searchParams.get("v");n&&function(e){var n="".concat("https://www.googleapis.com/youtube/v3/videos?part=snippet%2CcontentDetails&fields=items(snippet,contentDetails)&","&key=AIzaSyDfhTVqAL2i9CTb_mAytU2oJf1hXB3_XbE&id=").concat(e);return fetch(n).then(function(e){return e.json()}).then(function(e){if(e&&e.items){var n=e.items[0],t=n.contentDetails.duration;return{title:n.snippet.title,length:E(t)}}return{}}).catch(function(e){console.error("Error:",e)})}(n).then(function(t){var r,o=t.title,a=t.length;return(r={url:e,embedCode:n,title:o,length:a},fetch("/api/video",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}).then(function(e){return e.json()}).then(function(e){if(e.success)return e.data;throw Error(e.error)}).catch(function(e){console.error("Error:",e)})).catch(function(e){return console.error(e)})})}catch(t){}},E=function(e){return m.a.duration(e).format("h:mm:ss").padStart(4,"0:0")},v={height:"390",width:"640",playerVars:{autoplay:1,controls:0,disablekb:1}},j=t(167),x=t(168),O=t(175),w=t(178),y=Object(j.a)(x.a)({flexDirection:"row",gap:"10px",maxWidth:"500px"}),C=Object(j.a)(function(e){return o.a.createElement(O.a,Object.assign({label:"Enter YouTube video URL",size:"small"},e))})({flex:"1 1 auto"}),D=Object(j.a)(function(e){return o.a.createElement(w.a,Object.assign({variant:"contained"},e))})({maxWidth:"100px",flex:"1 1 auto"}),k=function(e){var n=e.onAdd,t=Object(r.useState)(""),a=Object(u.a)(t,2),c=a[0],i=a[1],l=function(){n(c),i("")};return o.a.createElement(y,null,o.a.createElement(C,{value:c,onChange:function(e){return i(e.target.value)},onKeyPress:function(e){return"Enter"===e.key&&l()}}),o.a.createElement(D,{onClick:l},"ADD"))},R=t(53),I=t(179),L=t(180),S=t(82),T=t.n(S),P=Object(j.a)(x.a)({flexDirection:"row",justifyContent:"space-between",alignItems:"center",border:"1px solid",padding:"5px",minHeight:"40px",minWidth:"250px",maxWidth:"400px"}),A=Object(j.a)(x.a)({flexDirection:"row",justifyContent:"space-between",alignItems:"center",gap:"10px"}),V=Object(j.a)(function(e){return o.a.createElement(I.a,Object.assign({component:"span"},e))})({textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}),W=Object(j.a)(function(e){return o.a.createElement(I.a,Object.assign({component:"span"},e))})({}),F=Object(j.a)(function(e){return o.a.createElement(L.a,e,o.a.createElement(T.a,null))})({}),J=function(e){var n=e.id,t=e.index,r=e.title,a=e.length,c=e.onRemove;return o.a.createElement(R.b,{key:n,draggableId:n,index:t},function(e,t){return o.a.createElement(P,Object.assign({ref:e.innerRef},e.draggableProps,e.dragHandleProps),o.a.createElement(A,null,o.a.createElement(V,null,r),a&&o.a.createElement(W,null,a)),o.a.createElement(F,{onClick:function(){return c(n)}}))})},B=Object(j.a)(x.a)({border:"1px solid",maxWidth:"500px",height:"100%",overflowY:"auto"}),N=function(e){var n=e.playList,t=e.onRemove,r=e.onListChange;return o.a.createElement(R.a,{onDragEnd:function(e){if(e.destination){var t=function(e,n,t){var r=Array.from(e),o=r.splice(n,1),a=Object(u.a)(o,1)[0];return r.splice(t,0,a),r}(n,e.source.index,e.destination.index);r(t)}}},o.a.createElement(R.c,{droppableId:"droppable"},function(e,r){return o.a.createElement(B,Object.assign({},e.droppableProps,{ref:e.innerRef}),n.map(function(e,n){var r=e.id,a=e.title,c=e.length,i=e.url;return o.a.createElement(J,{key:r,id:r,index:n,title:a||i,length:c,onRemove:t})}),e.placeholder)}))},U=t(88),z=function(e){var n=e.id,t=e.videoId,r=e.onEnd;return o.a.createElement(U.a,{key:n,id:n,opts:v,videoId:t,onEnd:function(){return r(n)},onReady:function(e){return e.target.playVideo()}})},H=Object(j.a)(x.a)({flexDirection:"row",justifyContent:"center",gap:"30px",margin:"50px"}),X=Object(j.a)(x.a)({gap:"10px",height:"390px"});var Y=function(){var e=Object(r.useRef)(!1),n=Object(r.useState)([]),t=Object(u.a)(n,2),a=t[0],c=t[1],l=Object(r.useState)(null),s=Object(u.a)(l,2),h=s[0],m=s[1];Object(r.useEffect)(function(){return e.current||(d().then(function(e){return c(e)}),f({onNewVideo:function(e){return c(function(n){return[].concat(Object(i.a)(n),[e])})}})),function(){e.current=!0}},[]),Object(r.useEffect)(function(){a.length?h&&a[0].id===h.id||m(a[0]):m(null)},[a]);var b=function(e){p(e),c(function(n){return n.filter(function(n){return e!==n.id})})};return o.a.createElement(H,null,o.a.createElement(X,null,o.a.createElement(k,{onAdd:g}),a.length>0&&o.a.createElement(N,{playList:a,onRemove:b,onListChange:c})),h&&o.a.createElement(z,{id:h.id,videoId:h.embedCode,onEnd:b}))},_=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,181)).then(function(n){var t=n.getCLS,r=n.getFID,o=n.getFCP,a=n.getLCP,c=n.getTTFB;t(e),r(e),o(e),a(e),c(e)})};c.a.createRoot(document.getElementById("root")).render(o.a.createElement(Y,null)),_()}},[[100,1,2]]]);
//# sourceMappingURL=main.e1a3e808.chunk.js.map